<?xml version="1.0" encoding="utf-8"?>
<openerp>
  <data noupdate="0">

    <record id="base.group_sale_secret_orders" model="res.groups">
      <field name="name">Secret orders</field>
      <field name="category_id" ref="base.module_category_sales_management"/>
      <field name="implied_ids" eval="[(4, ref('base.group_sale_manager'))]"/>
      <field name="comment">the user will be able to hide sale orders to all users except the one explicitely allowed.</field>
    </record>

    <record model="ir.rule" id="rule_hidden_orders">
      <field name="name">Hidden orders</field>
      <field name="model_id" ref="model_sale_order" />
      <field name="global" eval="True" />
      <field name="domain_force">['|',('allowed_users_ids','in',user.id),('allowed_users_ids','=',False)]</field>
    </record>

    <record model="ir.rule" id="rule_hidden_order_lines">
      <field name="name">Hidden order lines</field>
      <field name="model_id" ref="sale.model_sale_order_line" />
      <field name="global" eval="True" />
      <field name="domain_force">['|',('order_id.allowed_users_ids','in',user.id),('order_id.allowed_users_ids','=',False)]</field>
    </record>

  </data>
</openerp>
